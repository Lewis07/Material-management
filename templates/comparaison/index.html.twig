{% extends 'base.html.twig' %}

{% block title %}comparaison{% endblock %}

{% block body %}
    <div class="wrapper">
        
        {# ------------------------SIDEBAR---------------------------------- #}
            {{ include('include/sidebar.html.twig') }}
        {# ------------------------FIN SIDEBAR---------------------------------- #}

        {# ------------------------CONTENU---------------------------------- #}
        <div class="content-wrapper">

            <section class="content-header">
                <h1 align="center">
                    Comparaison prix de mobilier et prix d'entretien
                </h1>
            </section>

            <div class="content">

                {# <button onclick="doCouleur('montableau',3,10,'yellow');">go</button> #}

                <!-- Table comparaison -->
                    {# <table class="table table-striped table-inverse" id="montableau"> #}
                    <table class="table table-striped table-inverse" id="table_datatable">
                        <thead class="thead-inverse">
                            <tr>
                                <th>Mobilier</th>
                                <th>Designation</th>
                                <th>Prix du mobilier</th>
                                <th>Prix de l'entretien</th>
                                <th>Observation</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for row in comp %}
                                <tr id="ligne">
                                    <td >{{ row.mobilier }}</td>
                                    <td >{{ row.designation }}</td>
                                    <td class="prixMobilier">{{ row.prixFourMob | number_format(0,'',' ')}} Ar</td>
                                    <td class="prixEntretien">{{ row.prixEntr | number_format(0,'',' ')}} Ar</td>
                                    
                                    {% if ( row.prixEntr > row.prixFourMob)  %}
                                        <td class="bg-danger" align="center" style="color:#fff;">
                                            <label >Préférable d'acheter</label>
                                        </td>
                                    {% else %}
                                        <td>
                                            <label></label>
                                        </td>
                                    {% endif %}
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                <!-- fin Table comparaison -->

                 
            </div>
        </div>
        {# ------------------------FIN CONTENU---------------------------------- #}
    </div>
    {{ include('include/footer.html.twig') }}
{% endblock %}
{% block javascripts %}
         
        {# <script>
            $(function(){
                let prixEntretien = $('.prixEntretien');prixMobilier = $('.prixMobilier'); 
                alert(prixMobilier.html());
                if(prixMobilier.html() < prixEntretien.html()){
                    $("#ligne").addClass('bg-warning');
                }
            });
        </script>#}

   {#  <script>
    //         // let prixMobilier = document.querySelectorAll('.prixMobilier');
    //         function doCouleur(id,numCol,vMax, couleur) {
    //             //on récupère la table utilisée
    //             var table = document.getElementById(id);
    //             //pour chaque ligne...
    //             for (i=0;i<table.rows.length;i++) {
    //                 //la cellule de la colonne n° numCol 
    //                 var cell = table.rows[i].cells[numCol-1] ;
    //                 //... sa valeur (à adapter si la structure du html change)
    //                 if (parseFloat(cell.innerHTML) > vMax) {
    //                 //si ok, nouvelle couleur de fond
    //                 table.rows[i].style.backgroundColor = couleur;
    //                 }
    //             }
    //         }
    //  </script>#}
{% endblock %}
